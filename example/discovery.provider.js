/**
 * Generated by endpoints-angular-client-generator (version 0.0.1-0)
 * Arguments:
 *   endpoints-angular-client-generator -o example -d https://www.googleapis.com/discovery/v1/apis/discovery/v1/rest
 */
/*global angular*/
(function (angular) {
    'use strict';
    angular.module('discovery.endpoint', ['ng']);
    angular.module('discovery.endpoint').provider('Discovery', DiscoveryProvider);

    function DiscoveryProvider() {
        var provider = this;
        provider.config = {
            apiRoot: 'https://www.googleapis.com/discovery/v1/',
            defaultParameters: {}
        };
        provider.apiRoot = function (v) {
            if (angular.isDefined(v)) {
                provider.config.apiRoot = v;
            }
            return provider.config.apiRoot;
        };
        provider.defaultParameters = function (v) {
            if (angular.isDefined(v)) {
                provider.config.defaultParameters = v;
            }
            return provider.config.defaultParameters;
        };
        provider.apiPath = function (path) {
            return provider.config.apiRoot + path;
        };
        provider.setApiKey = function (key) {
            provider.config.defaultParameters.key = key;
        };
        provider.parameters = function (params) {
            return angular.extend(params, provider.config.defaultParameters);
        };
        provider.$get = function ($http) {
            var svc = {
                apis: apis()
            };

            function apis() {
                var _apis = {
                    getRest: discovery_apis_getRest,
                    list: discovery_apis_list
                };

                function discovery_apis_getRest(api, version) {
                    return $http({
                        method: 'GET',
                        url: provider.apiPath('apis/' + api + '/' + version + '/rest'),
                        params: provider.parameters({})
                    });
                }

                function discovery_apis_list(name, preferred) {
                    return $http({
                        method: 'GET',
                        url: provider.apiPath('apis'),
                        params: provider.parameters({
                            name: name,
                            preferred: preferred
                        })
                    });
                }
                return _apis;
            }
            return svc;
        };
    }
}(angular));
